-- Consulta del grid grid_asp_recomendantes
-- Fuente: asp_recomendantes + JOIN recomendantes
-- Filtro: id_asp_FK = [id_asp] (sesión del aspirante)
-- IMPORTANTE: Si [id_asp] no funciona, usar CAST o comparación numérica
-- Pegar en ScriptCase: Editar aplicación → SQL da Aplicação

SELECT 
    ar.id_asp_recom,
    ar.id_asp_FK,
    ar.id_recom_FK,
    r.id_recom,
    r.nombre,
    r.apellido_p,
    r.apellido_m,
    r.correo
FROM asp_recomendantes ar
INNER JOIN recomendantes r ON ar.id_recom_FK = r.id_recom
WHERE CAST(ar.id_asp_FK AS UNSIGNED) = CAST([id_asp] AS UNSIGNED)
ORDER BY ar.id_asp_recom;
